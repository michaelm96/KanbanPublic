# kanban
Creating fancy kanban

* RESTful endpoint for Kanban's CRUD operation
* JSON formatted response

## RESTful endpoints
### POST /register

> user Register

_Request Header_
```
not needed

```

_Request Body_
```
{
  email : <posted-email>,
  password : <posted-password>,
  first_name : <posted-first_name>,
  last_name : <posted-last_name>
}
```

_Response (201)_
```
[
    {
    "id": <Automatically generated by database>,
    "email": <posted-email>,
    "first_name" : <posted-first_name>,
    "last_name" : <posted-last_name>,
    "password": <hashed posted-password>,
    "updatedAt": "2020-05-08T11:26:59.712Z",
    "createdAt": "2020-05-08T11:26:59.712Z"
    }
]

```

_Response (400 - Bad Request)_
```
{
  "errorCode" = 'VALIDATION_ERROR'
  "message": "<returned error message>"
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "<returned error message>"
}
```

### POST /login

> user Login

_Request Header_
```
not needed

```

_Request Body_
```
{
  email : <posted-email>,
  password : <posted-password>
}
```

_Response (201)_
```
[
    {
    "access_token": <This access token generated automatically when you Log-in>
    }
]

```

_Response (400 - Bad Request)_
```
{
  "errorCode" = 'INVALID_EMAIL_OR_PASSWORD'
  "message": "<returned error message>"
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "<returned error message>"
}
```

### GET /task

> Get all task

_Request Header_
```
{
    "access_token": <This access token generated automatically when you Log-in>
}

```

_Request Body_
```
not needed
```

_Response (200)_
```
[
    {
        "id": <Automatically generated by database>,
        "title": "<task title>",
        "category": "<task category>",
        "UserId": "<id of creator of this task>",
        "organization": "<"Hacktiv8" by default>",
        "createdAt": "2020-05-08T07:20:33.949Z",
        "updatedAt": "2020-05-08T07:20:33.949Z"
    },
        "id": <Automatically generated by database>,
        "title": "<task title>",
        "category": "<task category>",
        "UserId": "<id of creator of this task>",
        "organization": "<"Hacktiv8" by default>",
        "createdAt": "2020-05-08T07:20:33.949Z",
        "updatedAt": "2020-05-08T07:20:33.949Z"
    },
        "id": <Automatically generated by database>,
        "title": "<task title>",
        "category": "<task category>",
        "UserId": "<id of creator of this task>",
        "organization": "<"Hacktiv8" by default>",
        "createdAt": "2020-05-08T07:20:33.949Z",
        "updatedAt": "2020-05-08T07:20:33.949Z"
    }
]

```

_Response (500 - Internal Server Error)_
```
{
  "message": "<returned error message>"
}
```

### GET /task /:id

> Find Task by id

_Request Header_
```
{
    "access_token": <This access token generated automatically when you Log-in>
}

```

_Request Body_
```
not needed
```

_Request Params_
```
{ id: ':id' }
```

_Response (200 - Ok)_
```
[
    {
        "id": 1 <if req.params.id is '1'>,
        "title": "<task title>",
        "category": "<task category>",
        "status": "<todos status after create or update>",
        "UserId": "<req.userData.id>",
        "organization": "<'Hacktiv8' by default>",
        "createdAt": "2020-05-08T07:20:33.949Z",
        "updatedAt": "2020-05-08T07:20:33.949Z"
    }
]

```

_Response (404 - Not Found)_
```
{
    "message": "Data not found"
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "<returned error message>"
}
```
### POST /task

> Create new task

_Request Header_
```
{
    "access_token": <This access token generated automatically when you Log-in>
}

```

_Request Body_
```
{
  "title": "<posted title of Kanban>",
  "category": "<posted category of Kanban>"
}
```

__Request userData__
```
{
    "id" : <id after access_token decoded by authentication>,
    "first_name" : <first_name after access_token decoded by authentication>,
    "last_name" : <last_name after access_token decoded by authentication>,
    "email" : <email> after access_token decoded by authentication>,
    "organization" : <organization after access_token decoded by authentication>,
}
```

_Response (201 - Created)_
```
{
    "id": <given id by system>,
    "title": "<posted title>",
    "category": "<posted category>",
    "UserId": "<req.userData.id>",
    "organization": "<'Hacktiv8' by default>"
    "updatedAt": "2020-05-08T11:19:26.267Z",
    "createdAt": "2020-05-08T11:19:26.267Z"
}
```

_Response (400 - Bad Request)_
```
{
    "message": [
        'Title task should not empty' <if title column is empty>,
        'Category task should not empty' <if category column is empty>
    ]
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "<returned error message>"
}
```

### PUT /task/:id

> Update task Id

_Request Header_
```
{
    "access_token": <This access token generated automatically when you Log-in>
}

```

_Request Body_
```
{
  "title": "<updated title of task>",
  "category": "<updated category of task>"
}
```

_Request Params_
```
{ id: ':id' }
```

_Response (200 - Ok)_
```
{
    "id": <given id by system>,
    "title": "<updated title>",
    "category": "<updated category>",
    "UserId": "<req.userData.id>",
    "organization": "<'Hacktiv8' by default>",
    "updatedAt": "2020-05-08T11:19:26.267Z",
    "createdAt": "2020-05-08T11:19:26.267Z"
}
```

_Response (400 - Bad Request)_
```
{
    "message": [
        'Title task should not empty' <if title column is empty>,
        'Category task should not empty' <if category column is empty>
    ]
}
```

_Response (404 - Not Found)_
```
{
    "message": "Data not found"
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "<returned error message>"
}
```

### DELETE /task/:id

> Delete task by id

_Request Header_
```
{
    "access_token": <This access token generated automatically when you Log-in>
}

```

_Request Body_
```
not needed
```

_Request Params_
```
{ id: ':id' }
```


_Response (200 - Ok)_
```
{
    "message": "data succesfully deleted"
}
```

_Response (404 - Not Found)_
```
{
    "message": "Data not found"
}
```

_Response (500 - Internal Server Error)_
```
{
  "message": "<returned error message>"
}
```